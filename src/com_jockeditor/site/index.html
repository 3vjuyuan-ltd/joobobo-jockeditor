<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Bootstrap 实例 - 模态框（Modal）插件事件</title>
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

    <div class="tab-pane fade" id="ejb">
        <p>Enterprise Java Beans（EJB）是一个创建高度可扩展性和强大企业级应用程序的开发架构，部署在兼容应用程序服务器（比如 JBOSS、Web Logic 等）的 J2EE 上。
        </p>
    </div>
</div>
<button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">文章编辑</button>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content col-lg-12">
            <ul id="myTab" class="nav nav-tabs">
                <li class="active"><a href="#articleselect" data-toggle="tab">文章选项</a></li>
                <li><a href="#publishselect" data-toggle="tab">发布选项</a></li>
                <li><a href="#imgandlink" data-toggle="tab">图片和链接</a></li>
            </ul>
            <div id="myTabContent" class="tab-content">
                <div class="tab-pane fade in active" id="articleselect">
                    <p >状态:
                        <select class="form-control " id="status" name="status">
                            <option value="发布" selected>发布</option>
                            <option value="不发布">不发布</option>
                        </select>
                    </p>
                    <p>分类：
                        <select class="form-control" id="kind" name="kind">
                            <option value="男装">男装</option>
                            <option value="女装">女装</option>
                            <option value="童装">童装</option>
                        </select>
                    </p>
                    <p>头版的:
                        <select class="form-control" id="main" name="main">
                            <option value="是">是</option><option value="否">否</option>
                        </select>
                    </p>
                    <p>访问权限:
                        <select class="form-control" id="right" name="right">
                            <option value="公开">公开</option>
                        </select>
                    </p>
                    <p>语种：
                        <select class="form-control" id="language" name="language">
                            <option value="english">english</option>
                        </select>
                    </p>
                    <p>标签:<input type="text" class="form-control" placeholder="文本输入" id="tag" name="tag"></p>
                    <p>版本备注:<input type="text" class="form-control" placeholder="文本输入" id="exp" name="exp"></p>
                </div>
                <div class="tab-pane fade" id="publishselect">
                    <p>开始发布:<input type="date" class="form-control" id="start"></p>
                    <p>结束发布:<input type="date" class="form-control" id="end"></p>
                    <p>创建时间:<input type="text" class="form-control" id="create"></p>
                    <p>作者笔名:<input type="text" class="form-control" id="pens"></p>
                    <p>修改时间:<input type="time" class="form-control" id="modify"></p>
                    <p>修改者:<input type="text" class="form-control" id="modifer"></p>
                    <p>修改次数:<input type="text" class="form-control" id="times"></p>
                    <p>点击:<input type="text" class="form-control" id="clicks"></p>
                    <p>简介:<textarea type="textarea" class="form-control" id="infor"></textarea></p>
                    <p>关键词:<textarea type="textarea" class="form-control" id="key"></textarea></p>
                    <p>重点参考:<input type="text" class="form-control" id="mains"></p>
                    <p>机器人:
                        <select class="form-control" id="set">
                            <option value="使用全局设置">使用全局设置</option>
                            <option value="使用局部设置">使用局部设置</option>
                        </select>
                    </p>
                    <p>作者:<input type="text" class="form-control" id="author"></p>
                    <p>内容版权:<textarea type="textarea" class="form-control" id="contentright"></textarea></p>
                    <p>外部参考:<input type="text" class="form-control" id="booksname"></p>
                </div>
                <div class="tab-pane fade" id="imgandlink">
                    <div class="form-group col-lg-3">
                        <p>引言图片：<input type="file" multiple="multiple" ></p>
                        <p>图片浮动：
                            <select class="form-control" id="set">
                                <option value="使用全局设置">使用全局设置</option>
                                <option value="使用局部设置">使用局部设置</option>
                            </select>
                        </p>
                        <p>文字替身:<input type="text" class="form-control" placeholder="文本输入" name="alt"></p>
                        <p>标题:<input type="text" class="form-control" placeholder="文本输入" name="title"></p>
                        <p>全文图片：
                            <select class="form-control" id="language" name="language">
                                <option value="english">english</option>
                            </select>
                        </p>
                        <p>引言图片：<input type="file"></p>
                        <p>图片浮动：
                            <select class="form-control">
                                <option value="使用全局设置">使用全局设置</option>
                                <option value="使用局部设置">使用局部设置</option>
                            </select>
                        </p>
                        <p>文字替身:<input type="text" class="form-control" placeholder="文本输入" name="word"></p>
                        <p>标题:
                            <input type="text" class="form-control" placeholder="文本输入"  name="title">
                        </p>
                        <p>全文图片：
                            <select class="form-control" id="language" name="language">
                                <option value="english">english</option>
                            </select>
                        </p>
                    </div>
                    <div class="col-lg-3" >
                        <p>链接A:<input type="text" class="form-control" placeholder="文本输入" name="word"></p>
                        <p>链接A的文本:
                            <input type="text" class="form-control" placeholder="文本输入"  name="title">
                        </p>
                        <p>打开链接（URL）的目标窗口：
                            <select class="form-control">
                                <option value="使用全局设置">使用全局设置</option>
                                <option value="使用局部设置">使用局部设置</option>
                            </select>
                        </p>
                        <p>链接B:<input type="text" class="form-control" placeholder="文本输入" name="word"></p>
                        <p>链接B的文本:
                            <input type="text" class="form-control" placeholder="文本输入"  name="title">
                        </p>
                        <p>打开链接（URL）的目标窗口：
                            <select class="form-control">
                                <option value="使用全局设置">使用全局设置</option>
                                <option value="使用局部设置">使用局部设置</option>
                            </select>
                        </p>
                        <p>链接C:<input type="text" class="form-control" placeholder="文本输入" name="word"></p>
                        <p>链接C的文本:
                            <input type="text" class="form-control" placeholder="文本输入"  name="title">
                        </p>
                        <p>打开链接（URL）的目标窗口：
                            <select class="form-control">
                                <option value="使用全局设置">使用全局设置</option>
                                <option value="使用局部设置">使用局部设置</option>
                            </select>
                        </p>
                    </div>
                </div>
            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="save()">保存</button>
        </div>
    </div>
</div>
<script>
    window.onload=function () {
        var storage = window.localStorage;
        if(localStorage.getItem("data")!=null){
        }
    }
    function  save(){
        if(!window.localStorage){
            alert('您的浏览器不支持 localStorage 技术!');
        }else {
            localStorage.removeItem("data");
            var s = document.getElementById("status").options[document.getElementById("status").selectedIndex].text;
            var k = document.getElementById("kind").options[document.getElementById("kind").selectedIndex].text;
            var m = document.getElementById("main").options[document.getElementById("main").selectedIndex].text;
            var r = document.getElementById("right").options[document.getElementById("right").selectedIndex].text;
            var l = document.getElementById("language").options[document.getElementById("language").selectedIndex].text;
            var t = document.getElementById("tag").value;
            var e = document.getElementById("exp").value;
            var start=document.getElementById("tag").value;
            var end=document.getElementById("end").value;
            var pens=document.getElementById("pens").value;
            var modify=document.getElementById("modify").value;
            var modifer=document.getElementById("modifer").value;
            var times=document.getElementById("times").value;
            var clicks=document.getElementById("clicks").value;
            var infor=document.getElementById("infor").value;
            var key=document.getElementById("key").value;
            var set = document.getElementById("set").options[document.getElementById("set").selectedIndex].text;
            var author=document.getElementById("author").value;
            var contentright=document.getElementById("contentright").value;
            var booksname=document.getElementById("booksname").value;
            var d = new Date();
            var ymd = d.getFullYear() + '年' + (d.getMonth() + 1) + '月' + d.getDate() + '日';
            var x=document.getElementById("create");
            var create=x.value=ymd;
            var dat = ({stutas:s,kind:k,main:m,right:r,language:l,tag:t,exp:e,start:start,end:end,pens:pens,create:create,modify:modify,modifer:modifer,times:times,clicks:clicks,infor:infor,key:key,set:set,author:author,contentright:contentright,booksname:booksname});
            var blob = new Blob([JSON.stringify(dat, null, 2)],{type:'application/json'});
            localStorage.setItem('data',blob);
            console.log( blob.size  );
        }
    }
    //    $(function () { $('#myModal').on('hide.bs.modal', function () {
    //        if(localStorage.getItem("data")){alert('已保存到本地');}
    //        })
    //    });

</script>
</body>
</html>
